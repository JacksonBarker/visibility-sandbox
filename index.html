<!--
    Copyright (C) 2024  Jackson Barker

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as
    published by the Free Software Foundation, either version 3 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->
<!DOCTYPE html>
<html>
  <head>
    <title>Visibility Test</title>
  </head>
  <body>
    <p><b>Events will be logged below.</b></p>
    <p id="state"></p>
    <script>
      document.addEventListener("visibilitychange", (event) => {
        document.getElementById("state").innerHTML +=
          Date(Date.now()) + "<br>" + document.visibilityState + "<br><br>";
        window.scrollTo(0, document.body.scrollHeight);
      });
      document.addEventListener("focus", (event) => {
        document.getElementById("state").innerHTML +=
          Date(Date.now()) + "<br>focus<br><br>";
        window.scrollTo(0, document.body.scrollHeight);
      });
      document.addEventListener("blur", (event) => {
        document.getElementById("state").innerHTML +=
          Date(Date.now()) + "<br>blur<br><br>";
        window.scrollTo(0, document.body.scrollHeight);
      });
    </script>
  </body>
</html>
